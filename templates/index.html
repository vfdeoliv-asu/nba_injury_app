<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NBA injury risk prediction using machine learning">
    <meta name="author" content="Vitor Hugo de Oliveira">

    <title>NBA Injury Risk Predictor</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS (for animations and special effects) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- Tailwind Configuration (Optional: Customize colors, fonts, etc.) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#667eea',
                            600: '#5568d3',
                            700: '#4c51bf'
                        },
                        secondary: {
                            500: '#764ba2',
                            600: '#6b3fa1',
                            700: '#5a329d'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gradient-to-br from-primary-500 to-secondary-500 p-4 sm:p-6 lg:p-8 flex items-center justify-center font-sans">
    <!-- Main Container -->
    <div class="w-full max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl p-6 sm:p-8 lg:p-10">
        <!-- Header -->
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-primary-500 text-center mb-3">
            NBA Injury Risk Prediction
        </h1>
        <p class="text-center text-gray-600 mb-8 sm:mb-10 text-base sm:text-lg">
            Enter player tracking and usage data to estimate injury risk.
        </p>

        <!-- Prediction Form -->
        <form id="predictionForm" class="space-y-6">
            <!-- Form Grid: Input Fields -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5">

                <!-- AGE -->
                <div class="flex flex-col">
                    <label for="AGE" class="font-semibold mb-2 text-gray-700 text-sm">
                        Age (years)
                    </label>
                    <input
                        type="number"
                        id="AGE"
                        name="AGE"
                        step="0.1"
                        value="25"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Player age in years
                    </span>
                </div>

                <!-- PLAYER_HEIGHT_INCHES -->
                <div class="flex flex-col">
                    <label for="PLAYER_HEIGHT_INCHES" class="font-semibold mb-2 text-gray-700 text-sm">
                        Height (inches)
                    </label>
                    <input
                        type="number"
                        id="PLAYER_HEIGHT_INCHES"
                        name="PLAYER_HEIGHT_INCHES"
                        step="0.1"
                        value="78"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Example: 78 = 6'6"
                    </span>
                </div>

                <!-- PLAYER_WEIGHT -->
                <div class="flex flex-col">
                    <label for="PLAYER_WEIGHT" class="font-semibold mb-2 text-gray-700 text-sm">
                        Weight (lbs)
                    </label>
                    <input
                        type="number"
                        id="PLAYER_WEIGHT"
                        name="PLAYER_WEIGHT"
                        step="1"
                        value="220"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Player listed weight
                    </span>
                </div>

                <!-- USG_PCT -->
                <div class="flex flex-col">
                    <label for="USG_PCT" class="font-semibold mb-2 text-gray-700 text-sm">
                        Usage Rate (%)
                    </label>
                    <input
                        type="number"
                        id="USG_PCT"
                        name="USG_PCT"
                        step="0.1"
                        value="22.5"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Estimated offensive usage percentage
                    </span>
                </div>

                <!-- AVG_SEC_PER_TOUCH -->
                <div class="flex flex-col">
                    <label for="AVG_SEC_PER_TOUCH" class="font-semibold mb-2 text-gray-700 text-sm">
                        Avg Seconds per Touch
                    </label>
                    <input
                        type="number"
                        id="AVG_SEC_PER_TOUCH"
                        name="AVG_SEC_PER_TOUCH"
                        step="0.01"
                        value="2.5"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Average time (seconds) per touch
                    </span>
                </div>

                <!-- AVG_DRIB_PER_TOUCH -->
                <div class="flex flex-col">
                    <label for="AVG_DRIB_PER_TOUCH" class="font-semibold mb-2 text-gray-700 text-sm">
                        Avg Dribbles per Touch
                    </label>
                    <input
                        type="number"
                        id="AVG_DRIB_PER_TOUCH"
                        name="AVG_DRIB_PER_TOUCH"
                        step="0.01"
                        value="2.0"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Ball-handling intensity per touch
                    </span>
                </div>

                <!-- ELBOW_TOUCHES -->
                <div class="flex flex-col">
                    <label for="ELBOW_TOUCHES" class="font-semibold mb-2 text-gray-700 text-sm">
                        Elbow Touches (per game)
                    </label>
                    <input
                        type="number"
                        id="ELBOW_TOUCHES"
                        name="ELBOW_TOUCHES"
                        step="0.1"
                        value="3.0"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Touches at the elbow area
                    </span>
                </div>

                <!-- POST_TOUCHES -->
                <div class="flex flex-col">
                    <label for="POST_TOUCHES" class="font-semibold mb-2 text-gray-700 text-sm">
                        Post Touches (per game)
                    </label>
                    <input
                        type="number"
                        id="POST_TOUCHES"
                        name="POST_TOUCHES"
                        step="0.1"
                        value="2.0"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Back-to-the-basket touches
                    </span>
                </div>

                <!-- PAINT_TOUCHES -->
                <div class="flex flex-col">
                    <label for="PAINT_TOUCHES" class="font-semibold mb-2 text-gray-700 text-sm">
                        Paint Touches (per game)
                    </label>
                    <input
                        type="number"
                        id="PAINT_TOUCHES"
                        name="PAINT_TOUCHES"
                        step="0.1"
                        value="5.0"
                        required
                        class="px-3 py-2 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-primary-500 transition-colors duration-200"
                    >
                    <span class="text-xs text-gray-500 mt-1">
                        Touches inside the paint
                    </span>
                </div>
            </div>

            <!-- Submit Button -->
            <button
                type="submit"
                class="btn-submit w-full py-4 bg-gradient-to-r from-primary-500 to-secondary-500 text-white font-semibold text-lg rounded-lg hover:-translate-y-0.5 hover:shadow-lg hover:shadow-primary-500/50 active:translate-y-0 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200"
            >
                Get Injury Risk Prediction
            </button>
        </form>

        <!-- Prediction Result Display -->
        <div id="result" class="hidden mt-10 p-8 bg-gradient-to-r from-pink-400 to-red-500 rounded-xl text-center slide-in">
            <h2 class="text-white text-2xl font-bold mb-5">Prediction Result</h2>
            <div id="predictionValue" class="text-5xl sm:text-6xl font-bold text-white my-5 drop-shadow-lg"></div>
            <p class="text-white/90 text-base mt-3">
                Estimated injury risk score (higher values indicate greater risk).
            </p>
        </div>

        <!-- Error Display -->
        <div id="error" class="hidden mt-6 p-5 bg-red-500 text-white rounded-lg slide-in"></div>

        <!-- Information Box -->
        <div class="mt-10 p-6 bg-gray-50 border-l-4 border-primary-500 rounded-lg">
            <h3 class="text-primary-500 font-bold text-xl mb-3">About This Model</h3>
            <p class="text-gray-600 leading-relaxed">
                This application uses a machine learning model deployed on Databricks MLflow to predict
                NBA player injury risk based on age, body profile, usage rate, and player tracking
                statistics such as touches and dribbles. The output is a risk score that can help
                contextualize workload and potential injury exposure.
            </p>
        </div>

        <!-- Optional: Sample Data Button -->
        <div class="mt-6 text-center">
            <button
                type="button"
                onclick="loadSampleData()"
                class="px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-colors duration-200"
            >
                Load Sample Data
            </button>
        </div>
    </div>

    <!-- External JavaScript File -->
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
